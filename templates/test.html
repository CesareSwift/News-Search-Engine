<html>
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
    <title>Untitled Document</title>
    <script>
        var globalTimeout = null;
        var myFunction = function(event) {

         var str = $("#location").val();
         if (globalTimeout != null) {
            clearTimeout(globalTimeout);
          }
            globalTimeout = setTimeout(function() {
            globalTimeout = null;

            if (str==''){
                console.log('haha')
            }
            else{
                console.log(str);
                $.post("",
                  {
                    name: "Donald Duck",
                    city: "Duckburg"
                  },
                  function(data, status){
                    alert("Data: " + data.name + "\nStatus: " + status);
                  }
                )
            }
          }, 500);
    };

    (function() {
      $("#location").keyup(myFunction);
    });

    </script>
</head>

<script src="{{ url_for('static', filename='jquery-3.6.0.min.js')}}"></script>
<input type="text" id="location" onKeyUp="myFunction()">
<body>
</body>
</html>